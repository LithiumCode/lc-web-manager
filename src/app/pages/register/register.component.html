<div class="loading-overlay" *ngIf="loading">
  <div class="spinner"></div>
  <span>Salvando usuário...</span>
</div>
<div class="register-container">
  <h2>Cadastrar Novo Usuário</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div>
        <label>Nome</label>
        <input formControlName="name" type="text" required />
      </div>
      <div>
        <label>Email</label>
        <input formControlName="email" type="email" required />
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Senha</label>
        <input formControlName="password" type="password" required minlength="6" />
      </div>
      <div>
        <label>Telefone</label>
        <input formControlName="phoneNumber" type="text" />
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Foto</label>
        <input type="file" (change)="onPhotoSelected($event)" accept="image/*" />
        <span *ngIf="selectedPhotoName">{{ selectedPhotoName }}</span>
      </div>
      <div>
        <label>Rule</label>
        <select formControlName="rule" required>
          <option value="" disabled selected>Selecione o perfil</option>
          <option value="ADM">ADM</option>
          <option value="MKT">MKT</option>
          <option value="TEC">TEC</option>
          <option value="SAC">SAC</option>
        </select>
      </div>
    </div>
    <button type="submit" [disabled]="isSaving || loading">Cadastrar</button>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="success">{{ successMessage }}</div>
  </form>
</div>