<div class="settings-container">
  <!-- Cadastro -->
  <h2 class="title">Cadastrar Nova Feature Toggle</h2>
  <form [formGroup]="featureToggleForm" (ngSubmit)="onSubmit()" class="form-box">
    <div class="form-field">
      <label for="key">Nome da Chave</label>
      <input id="key" formControlName="key" placeholder="ex: showPromoBanner" />
    </div>

    <div class="form-field">
      <label for="feature">Recurso</label>
      <input id="feature" formControlName="feature" placeholder="ex: Banner Promocional" />
    </div>

    <div class="form-field">
      <label for="description">Descrição</label>
      <textarea id="description" formControlName="description" rows="2"></textarea>
    </div>

    <div class="form-field toggle-container">
      <label for="enabled">Ativo</label>
      <label class="switch">
        <input type="checkbox" id="enabled" formControlName="enabled" />
        <span class="slider round"></span>
      </label>
    </div>

    <button type="submit" [disabled]="featureToggleForm.invalid || loading">
      {{ loading ? 'Salvando...' : 'Salvar Feature Toggle' }}
    </button>
  </form>

  <!-- Divider -->
  <hr class="divider" />

  <h2 class="title">Ligar ou Desligar Chaves</h2>
  <div class="toggle-item" *ngFor="let toggle of toggles">
    <div class="info">
      <label>Chave</label>
      <input type="text" [value]="toggle.key" disabled />

      <label>Recurso</label>
      <input type="text" [value]="toggle.feature" disabled />

      <label *ngIf="toggle.description">Descrição</label>
      <textarea [value]="toggle.description" disabled *ngIf="toggle.description"></textarea>
    </div>

    <div class="actions">
      <label class="switch">
        <input type="checkbox" [checked]="toggle.enabled" (change)="toggleEnabled(toggle)" />
        <span class="slider round"></span>
      </label>
    </div>
  </div>

  <ng-template #emptyList>
    <p>Nenhuma feature toggle cadastrada.</p>
  </ng-template>
</div>